{% extends 'cae_web_core/main.html' %}


{% block title_page_name %}Index |{% endblock title_page_name %}


{% block content %}
  {% include 'cae_home/include/form.html' %}

  {% if errors %}
    <h2>Event Errors</h2>
    <table>
      <thead>
        <tr>
          <th>Class</th>
          <th>Title</th>
          <th>Start</th>
          <th>End</th>
          <th>Weekdays</th>
        </tr>
      </thead>
      <tbody>
        {% for class, title, start, end, weekdays, error_msg in errors %}
          <tr>
            <td colspan="5">{{ error_msg }}
          </tr>
          <tr>
            <td>{{ class }}</td>
            <td>{{ title }}</td>
            <td>{{ start }}</td>
            <td>{{ end }}</td>
            <td>{{ weekdays|join:", " }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}

  {% if events %}
    <h2>Created Events</h2>
    <table>
      <thead>
        <tr>
          <th>Class</th>
          <th>Title</th>
          <th>Start</th>
          <th>End</th>
          <th>Weekdays</th>
        </tr>
      </thead>
      <tbody>
        {% for class, title, start, end, weekdays in events %}
          <tr>
            <td>{{ class }}</td>
            <td>{{ title }}</td>
            <td>{{ start }}</td>
            <td>{{ end }}</td>
            <td>{{ weekdays|join:", " }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
{% endblock content %}
